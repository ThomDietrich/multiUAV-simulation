##
## This program is free software: you can redistribute it and/or modify
## it under the terms of the GNU Lesser General Public License as published by
## the Free Software Foundation, either version 3 of the License, or
## (at your option) any later version.
##
## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU Lesser General Public License for more details.
##
## You should have received a copy of the GNU Lesser General Public License
## along with this program.  If not, see http://www.gnu.org/licenses/.
##

[General]
user-interface = Qtenv
description = "multiple UAVs hovering over Boston"
network = OsgEarthNet

record-eventlog = true

eventlog-file = ${resultdir}/${configname}-${runnumber}.elog

#scheduler-class = "omnetpp::cRealTimeScheduler"
#realtimescheduler-scaling = 10

*.osgEarthScene.scene = "boston.earth"
*.playgroundLatitude = 42.3558
*.playgroundLongitude = -71.0677
*.playgroundWidth = 400m
*.playgroundHeight = 200m
*.channelController.connectionColor = "#0000FF40"
*.channelController.showConnections = true

*.uav[*].modelURL = "quadrocopter.small.obj.15.scale.0,0,0.rot"
*.uav[*].labelColor = "#FF7C00CC"
*.uav[*].label2Color = "#FF7C00EE"
*.uav[*].batteryCapacity = 5200mAh
*.uav[*].batteryRemaining = uav[index].batteryCapacity / 2 + replaceUnit(intuniform(0, dropUnit(uav[index].batteryCapacity / 2)), "mAh")
*.uav[*].replacementMethod = 0

*.cs[*].modelURL = "chargingstation_v1.osgt.1.scale.0,0,0.rot.0,0,-15e-1.trans"
*.cs[*].spotsWaiting = 999
*.cs[*].spotsCharging = 999
*.cs[*].chargeEffectivenessPercentage = 100
*.cs[*].chargeCurrent = 8.0A
*.cs[*].linearGradient = 0.2754
*.cs[*].prioritizeFastCharge = true
*.cs[*].nonLinearPhaseStartPercentage = 90

# time-based updates for animation
# set to "0ms" for event-based updates only
*.*.timeStep = 9000ms



[Config multiUAV-Movement]
*.channelController.showConnections = false
*.numUAVs = 20
#*.uav[*].modelURL = "glider.osgb.7.scale.0,0,180.rot"
#*.uav[*].modelURL = "quadcopter_v3.osg.12e-1.scale.0,0,90.rot"
*.uav[*].startX = 10m + index * 10m
*.uav[*].startY = 20m
*.uav[*].startTime = (index * 2s)
*.numCSs = 2
*.cs[0].posX = 50m
*.cs[0].posY = 150m
*.cs[1].posX = 350m
*.cs[1].posY = 50m
*.cs[2..].posX = uniform(10m, 390m)
*.cs[2..].posY = uniform(10m, 190m)



[Config multiUAV-Movement-Offline]
extends = multiUAV-Movement
description = "multiple UAVs hovering over Boston, with locally stored tiles"
*.osgEarthScene.scene = "boston_offline.earth"
*.missionControl.missionFiles = "BostonParkCircle.waypoints,BostonParkLine.waypoints"



[Config Szenario_Hotel_Gabelbach]
description = "Ein Waldbrand bedroht nicht nur das Hotel Gabelbach, sondern hat sich auf der gesamten Waldfl채che im den Dreieck Hotel Gabelbach, Ilmenau und Manebach."
repeat = 10
cmdenv-express-mode = false
cmdenv-log-prefix = "%l %C: "
*.channelController.showConnections = false
*.osgEarthScene.scene = "Szenario_Hotel_Gabelbach.earth"

#TODO: adjust
*.playgroundLatitude = 50.6830269
*.playgroundLongitude = 10.8538055
*.playgroundWidth = 3500m
*.playgroundHeight = 3500m

#TODO: an die Startpunkte anpassen
*.numCSs = 6
*.numUAVs = 60
# Ilmenau Sportplatz
*.cs[0].posX = 3171m
*.cs[0].posY = 311m
*.cs[0].posZ = 517m
*.uav[0..9].startX = 3171m
*.uav[0..9].startY = 311m
*.uav[0..9].startZ = 517m
# Kickelhahn
*.cs[1].posX = 3127m
*.cs[1].posY = 1803m
*.cs[1].posZ = 608m
*.uav[10..19].startX = 3127m
*.uav[10..19].startY = 1803m
*.uav[10..19].startZ = 608m
# Hotel
*.cs[2].posX = 2185m
*.cs[2].posY = 3026m
*.cs[2].posZ = 777m
*.uav[20..29].startX = 2185m
*.uav[20..29].startY = 3026m
*.uav[20..29].startZ = 777m
# Manebach S체d
*.cs[3].posX = 1102m
*.cs[3].posY = 2511m
*.cs[3].posZ = 627m
*.uav[30..39].startX = 1102m
*.uav[30..39].startY = 2511m
*.uav[30..39].startZ = 627m
# Manebach Mitte
*.cs[4].posX = 582m
*.cs[4].posY = 1467m
*.cs[4].posZ = 588m
*.uav[40..49].startX = 582m
*.uav[40..49].startY = 1467m
*.uav[40..49].startZ = 588m
# Zentral (Mesh)
*.cs[5].posX = 1253m
*.cs[5].posY = 1250m
*.cs[5].posZ = 780m
*.uav[50..59].startX = 1253m
*.uav[50..59].startY = 1250m
*.uav[50..59].startZ = 780m

*.uav[*].batteryCapacity = 5200mAh
*.uav[*].batteryRemaining = 4680mAh
*.uav[*].replacementMethod = ${repM=0, 1, 2}

*.*.timeStep = 4000ms
*.*.commandCount = 20

*.missionControl.missionFiles = "missions\\Szenario_WB_Hotel_Gabelbach_Mission_Hotel.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Ilmenau_Sportplatz.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Kickelhahn.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Manebach_Mitte.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Manebach_Sued.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Hotel_stationary.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Kickelhahn_stationary.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Manebach_Mitte_stationary_1.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Manebach_Mitte_stationary_2.waypoints,missions\\Szenario_WB_Hotel_Gabelbach_Mission_Manebach_Sued_stationary.waypoints"

[Config missions]
description = "mission management and research"
*.channelController.showConnections = false
*.osgEarthScene.scene = "missions.earth"
*.playgroundLatitude = 50.687748
*.playgroundLongitude = 10.934594
*.playgroundWidth = 400m
*.playgroundHeight = 400m

*.numUAVs = 20
*.uav[*].startX = 0m
*.uav[*].startY = 0m
*.uav[*].batteryCapacity = 5200mAh
*.uav[*].batteryRemaining = 4680mAh
*.uav[*].replacementMethod = 0

*.*.timeStep = 4000ms

[Config missions-oneCN]
extends = missions
*.numCSs = 1
#*.cs[0].posX = 0m
#*.cs[0].posY = 0m



[Config missions-twoCN]
extends = missions
*.numCSs = 2
#*.cs[0].posX = 0m
#*.cs[0].posY = 0m
*.cs[1].posX = 400m
*.cs[1].posY = 400m



[Config mission-Nr-01]
description = "Alle WP haben optimalen Abstand."
extends = missions-oneCN
*.missionControl.missionFiles = "missions/mission1.waypoints"
*.*.commandCount = 2



[Config mission-Nr-02]
description = "Es gibt WP, die optimalen Abstand haben (,aber nicht alle)."
extends = missions-oneCN
*.missionControl.missionFiles = "missions/mission2.waypoints"
*.*.commandCount = 4



[Config mission-Nr-03]
description = "Nur ein WP hat optimalen Abstand."
extends = missions-oneCN
*.missionControl.missionFiles = "missions/mission3.waypoints"
*.*.commandCount = 2



[Config mission-Nr-04]
description = "Nur ein WP hat optimalen Abstand, lange Flugzeit."
extends = missions-oneCN
*.missionControl.missionFiles = "missions/mission4.waypoints"
*.*.commandCount = 2



[Config mission-Nr-05]
description = "Es gibt eine lokal optimale CN f체r je einen WP."
extends = missions-twoCN
*.missionControl.missionFiles = "missions/mission3.waypoints"
*.*.commandCount = 2



[Config mission-Nr-06]
description = "Es gibt mehrere CN, aber nur eine ist optimal."
extends = missions-twoCN
*.missionControl.missionFiles = "missions/mission6.waypoints"
*.*.commandCount = 2

# cs[1] is supoptimal compared to cs[0], but better for wp[1] compared to wp[0]
*.cs[1].posX = 300m
*.cs[1].posY = 300m



[Config mission-Nr-07]
description = "Es gibt lokal optimale CN f체r mehrere WP."
extends = missions-twoCN
*.missionControl.missionFiles = "missions/mission7.waypoints"
*.*.commandCount = 5



[Config Communication]
#TODO Silvi fill as you wish
*.numUAVs = 5
*.uav[*].modelURL = "glider.osgb.7.scale.0,0,180.rot"
*.uav[*].trailColor = "#000000FF"
*.uav[*].trailLength = 1000
*.uav[*].showTxRange = false
*.uav[*].rangeColor = "#40000040"
*.uav[*].txRange = 200m
*.uav[*].transmissionAnimUrl = "bubble.osgb.7.scale"
*.uav[*].transmissionDuration = 1s
*.uav[*].transmissionColor = "red"
*.uav[*].batteryCapacity = 0mAh
